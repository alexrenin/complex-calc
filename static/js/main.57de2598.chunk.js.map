{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["LS_KEY","initValue","defaultParam","storageJSON","localStorage","getItem","JSON","parse","yearPercent","yearNumber","monthIncome","startCount","pretyBigNumb","num","toLocaleString","getCalcRes","periodNumPerYear","monthPercent","numberOfMonth","newRes","i","Math","round","pow","roundedRes","useStyles","makeStyles","theme","root","height","backgroundColor","palette","background","paper","btn","marginLeft","marginBottom","input","minWidth","headerText","textAlign","paddingTop","App","classes","inputYearPercent","useRef","inputStartCount","inputMonthIncome","inputYearNumber","useState","result","setResult","useEffect","res","monthPassIncome","className","CssBaseline","Container","maxWidth","Typography","component","List","ListItem","TextField","inputRef","label","type","defaultValue","Button","variant","color","onClick","param","parseInt","current","value","paramJSON","stringify","setItem","Divider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.57de2598.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\n/* constants */\n\nconst LS_KEY = 'complex-calc-storage';\n\nconst initValue = {\n  yearPercent: 10,\n  yearNumber: 1,\n  monthIncome: 0,\n  startCount: 100000,\n};\n\nconst defaultParam = (() => {\n  const storageJSON = localStorage.getItem(LS_KEY) || '{}';\n  const storage = JSON.parse(storageJSON);\n\n  const {\n    yearPercent = initValue.yearPercent,\n    yearNumber = initValue.yearNumber,\n    monthIncome = initValue.monthIncome,\n    startCount = initValue.startCount,\n  } = storage || {};\n\n  return {\n    yearPercent,\n    yearNumber,\n    monthIncome,\n    startCount,\n  };\n})()\n\n/* help functions */\n\nfunction pretyBigNumb(num) {\n  const numbStr = num.toLocaleString()\n  return numbStr;\n}\n\nfunction getCalcRes({\n  yearPercent = defaultParam.yearPercent,\n  yearNumber = defaultParam.yearNumber,\n  monthIncome = defaultParam.monthIncome,\n  startCount = defaultParam.startCount,\n} = {}) {\n  const periodNumPerYear = 12;\n  const monthPercent = 1 + (yearPercent / 100) / periodNumPerYear;\n  const numberOfMonth = yearNumber * periodNumPerYear;\n\n  const newRes = (() => {\n    if (monthIncome) {\n      let newRes = startCount;\n      for (let i = 1; i <= numberOfMonth; i++) {\n        newRes = Math.round(newRes * monthPercent * 100) / 100 + monthIncome;\n      }\n\n      return newRes;\n    }\n\n    return startCount * Math.pow(monthPercent, numberOfMonth);\n  })();\n\n  const roundedRes = Math.round(newRes);\n\n  return roundedRes;\n}\n\n/* Main component */\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: '100vh',\n    backgroundColor: theme.palette.background.paper,\n  },\n  btn: {\n    marginLeft: 15,\n    marginBottom: 15,\n  },\n  input: {\n    minWidth: 250,\n  },\n  headerText: {\n    textAlign: 'center',\n    paddingTop: 20,\n  }\n}));\n\nfunction App() {\n  const classes = useStyles();\n\n  const inputYearPercent = useRef();\n  const inputStartCount = useRef();\n  const inputMonthIncome = useRef();\n  const inputYearNumber = useRef();\n\n  const [result, setResult] = useState(0);\n\n  useEffect(() => {\n    const res = getCalcRes();\n\n    setResult(res);\n\n  }, [])\n\n  const monthPassIncome = Math.round(result * 0.04 / 12);\n\n  function handleDoCalc() {\n    const yearPercent = parseInt(inputYearPercent.current.value);\n    const yearNumber = parseInt(inputYearNumber.current.value);\n    const monthIncome = parseInt(inputMonthIncome.current.value);\n    const startCount = parseInt(inputStartCount.current.value);\n\n    const param = {\n      yearPercent,\n      yearNumber,\n      monthIncome,\n      startCount,\n    };\n    const res = getCalcRes(param);\n\n    const paramJSON = JSON.stringify(param);\n    localStorage.setItem(LS_KEY, paramJSON);\n\n    setResult(res);\n  }\n\n  return (\n    <div className=\"App\">\n        <CssBaseline />\n        <Container maxWidth=\"sm\" className={classes.root}>\n          <Typography component={'h1'} className={classes.headerText}>\n            {\"Калькулятор инвестиций\"}\n          </Typography>\n          <List>\n            <ListItem>\n              <TextField\n                className={classes.input}\n                inputRef={inputStartCount}\n                label=\"Первоначальная сумма\"\n                type=\"number\"\n                defaultValue={defaultParam.startCount}\n              />\n            </ListItem>\n            <ListItem>\n              <TextField\n                className={classes.input}\n                inputRef={inputYearPercent}\n                label=\"Ставка, % годовых\"\n                type=\"number\"\n                defaultValue={defaultParam.yearPercent}\n              />\n            </ListItem>\n            <ListItem>\n              <TextField\n                className={classes.input}\n                inputRef={inputYearNumber}\n                label=\"Количество лет\"\n                type=\"number\"\n                defaultValue={defaultParam.yearNumber}\n              />\n            </ListItem>\n            <ListItem>\n              <TextField\n                className={classes.input}\n                inputRef={inputMonthIncome}\n                label=\"Ежемесячное пополнение\"\n                type=\"number\"\n                defaultValue={defaultParam.monthIncome}\n              />\n            </ListItem>\n          </List>\n          <Button\n            className={classes.btn}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleDoCalc}\n          >\n            Расчитать\n          </Button>\n          <Divider />\n          <List>\n            <ListItem>\n              <Typography>\n                {`Сумма к получению: ${pretyBigNumb(result)}`}\n              </Typography>\n            </ListItem>\n          </List>\n          <List>\n            <ListItem>\n              <Typography>\n                {`4 % фонда / 12: ${pretyBigNumb(monthPassIncome)}`}\n              </Typography>\n            </ListItem>\n          </List>\n        </Container>\n    </div>\n  );\n}\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}